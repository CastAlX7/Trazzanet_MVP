<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte de Auditoría Final - TrazaNet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="reporte_auditoria_final.css">
</head>

<body>

    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <aside class="w-64 bg-white border-r border-gray-200 flex flex-col">
            <div class="h-16 flex items-center px-6 border-b border-gray-200">
                <div class="flex items-center gap-2 text-blue-500 font-bold text-xl">
                    <i class="fa-solid fa-microchip logo-icon"></i>
                    <span>TrazaNet</span>
                </div>
            </div>
            <nav class="flex-grow p-4 space-y-2">
                <a href="dashboard.html"
                    class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg transition duration-150">
                    <i class="fas fa-home w-5 h-5 mr-3"></i>
                    Dashboard
                </a>
                <a href="carga.html"
                    class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg transition duration-150">
                    <i class="fas fa-upload w-5 h-5 mr-3"></i>
                    Carga de Datos
                </a>
                <a href="auditoria.html"
                    class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg transition duration-150">
                    <i class="fas fa-search w-5 h-5 mr-3"></i>
                    Auditoría
                </a>
                <a href="reporte_auditoria_final.html"
                    class="flex items-center p-3 text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg transition duration-150 shadow-lg">
                    <i class="fas fa-chart-line w-5 h-5 mr-3"></i>
                    Análisis Estratégico
                </a>
                <a href="usuarios.html"
                    class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg transition duration-150">
                    <i class="fas fa-users w-5 h-5 mr-3"></i>
                    Usuarios
                </a>
                <a href="blockchain.html"
                    class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg transition duration-150">
                    <i class="fas fa-link w-5 h-5 mr-3"></i>
                    Blockchain
                </a>
            </nav>
            <div class="p-4 border-t border-gray-200">
                <p id="user-id-display" class="text-xs text-gray-500 truncate">ID Usuario: Cargando...</p>
                <button onclick="window.location.href='index.html'"
                    class="w-full mt-2 text-sm text-red-500 hover:text-red-700 transition duration-150 text-left">
                    <i class="fas fa-sign-out-alt mr-2"></i>Cerrar Sesión
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6 overflow-y-auto">
            <div class="max-w-7xl mx-auto">
                <!-- Header -->
                <div class="mb-8 animate-fade-in">
                    <h1 class="text-4xl font-bold page-title mb-2">Análisis Estratégico de Auditoría</h1>
                    <p class="text-white text-lg">Reporte consolidado de conformidad y tendencias de calidad</p>
                </div>

                <!-- Filter Controls -->
                <div class="glass-card p-6 rounded-2xl shadow-2xl mb-6 animate-fade-in">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div
                                class="w-12 h-12 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg">
                                <i class="fas fa-filter text-white text-xl"></i>
                            </div>
                            <div>
                                <h2 class="text-xl font-bold text-gray-800">Filtros de Análisis</h2>
                                <p class="text-sm text-gray-500">Selecciona el alcance del reporte</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4">
                            <label for="filterSelect" class="text-sm font-semibold text-gray-700">Filtrar por:</label>
                            <select id="filterSelect"
                                class="px-4 py-2 border-2 border-gray-300 rounded-lg bg-white text-gray-700 font-medium shadow-sm hover:border-indigo-500 transition duration-200">
                                <option value="Global">Global (Todos)</option>
                                <option value="Transportista A">Transportista A</option>
                                <option value="Transportista B">Transportista B</option>
                                <option value="Planta Norte">Planta Norte</option>
                                <option value="Planta Sur">Planta Sur</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- KPI Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <!-- KPI 1: Tasa de Conformidad -->
                    <div class="glass-card kpi-card p-6 rounded-2xl shadow-xl animate-fade-in">
                        <div class="flex items-center justify-between mb-4">
                            <div
                                class="w-14 h-14 bg-gradient-to-br from-green-400 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg">
                                <i class="fas fa-check-circle text-white text-2xl"></i>
                            </div>
                            <span class="text-xs font-semibold text-green-600 bg-green-100 px-3 py-1 rounded-full">
                                <i class="fas fa-arrow-up mr-1"></i>+2.3%
                            </span>
                        </div>
                        <h3 class="text-sm font-semibold text-gray-600 mb-1">Tasa de Conformidad</h3>
                        <p id="kpi-conformidad" class="text-4xl font-bold text-gray-900 mb-1">--%</p>
                        <p class="text-xs text-gray-500">Últimos 6 meses</p>
                    </div>

                    <!-- KPI 2: Lotes Rechazados -->
                    <div class="glass-card kpi-card p-6 rounded-2xl shadow-xl animate-fade-in"
                        style="animation-delay: 0.1s;">
                        <div class="flex items-center justify-between mb-4">
                            <div
                                class="w-14 h-14 bg-gradient-to-br from-red-400 to-rose-600 rounded-xl flex items-center justify-center shadow-lg">
                                <i class="fas fa-times-circle text-white text-2xl"></i>
                            </div>
                            <span class="text-xs font-semibold text-red-600 bg-red-100 px-3 py-1 rounded-full">
                                <i class="fas fa-arrow-down mr-1"></i>-12
                            </span>
                        </div>
                        <h3 class="text-sm font-semibold text-gray-600 mb-1">Lotes Rechazados</h3>
                        <p id="kpi-rechazados" class="text-4xl font-bold text-gray-900 mb-1">--</p>
                        <p class="text-xs text-gray-500">Este mes</p>
                    </div>

                    <!-- KPI 3: Tiempo Promedio de Auditoría -->
                    <div class="glass-card kpi-card p-6 rounded-2xl shadow-xl animate-fade-in"
                        style="animation-delay: 0.2s;">
                        <div class="flex items-center justify-between mb-4">
                            <div
                                class="w-14 h-14 bg-gradient-to-br from-blue-400 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg">
                                <i class="fas fa-clock text-white text-2xl"></i>
                            </div>
                            <span class="text-xs font-semibold text-blue-600 bg-blue-100 px-3 py-1 rounded-full">
                                <i class="fas fa-minus mr-1"></i>Estable
                            </span>
                        </div>
                        <h3 class="text-sm font-semibold text-gray-600 mb-1">Tiempo Promedio</h3>
                        <p id="kpi-tiempo" class="text-4xl font-bold text-gray-900 mb-1">--h</p>
                        <p class="text-xs text-gray-500">Por auditoría</p>
                    </div>

                    <!-- KPI 4: Auditorías Completadas -->
                    <div class="glass-card kpi-card p-6 rounded-2xl shadow-xl animate-fade-in"
                        style="animation-delay: 0.3s;">
                        <div class="flex items-center justify-between mb-4">
                            <div
                                class="w-14 h-14 bg-gradient-to-br from-purple-400 to-violet-600 rounded-xl flex items-center justify-center shadow-lg">
                                <i class="fas fa-clipboard-check text-white text-2xl"></i>
                            </div>
                            <span class="text-xs font-semibold text-purple-600 bg-purple-100 px-3 py-1 rounded-full">
                                <i class="fas fa-arrow-up mr-1"></i>+18
                            </span>
                        </div>
                        <h3 class="text-sm font-semibold text-gray-600 mb-1">Auditorías Completadas</h3>
                        <p id="kpi-completadas" class="text-4xl font-bold text-gray-900 mb-1">--</p>
                        <p class="text-xs text-gray-500">Este mes</p>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <!-- Tendencia Mensual Chart -->
                    <div class="glass-card p-8 rounded-2xl shadow-2xl animate-fade-in" style="animation-delay: 0.4s;">
                        <div class="flex items-center gap-3 mb-6">
                            <div
                                class="w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl flex items-center justify-center shadow-lg">
                                <i class="fas fa-chart-line text-white text-xl"></i>
                            </div>
                            <div>
                                <h2 class="text-xl font-bold text-gray-800">Tendencia de Conformidad</h2>
                                <p class="text-sm text-gray-500">Últimos 6 meses</p>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="trendChart"></canvas>
                        </div>
                    </div>

                    <!-- Causas de Falla Chart -->
                    <div class="glass-card p-8 rounded-2xl shadow-2xl animate-fade-in" style="animation-delay: 0.5s;">
                        <div class="flex items-center gap-3 mb-6">
                            <div
                                class="w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg">
                                <i class="fas fa-chart-pie text-white text-xl"></i>
                            </div>
                            <div>
                                <h2 class="text-xl font-bold text-gray-800">Distribución de Fallas</h2>
                                <p class="text-sm text-gray-500">Causas principales</p>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="breakdownChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Insights Section -->
                <div class="glass-card p-8 rounded-2xl shadow-2xl animate-fade-in" style="animation-delay: 0.6s;">
                    <div class="flex items-center gap-3 mb-6">
                        <div
                            class="w-12 h-12 bg-gradient-to-br from-yellow-500 to-amber-600 rounded-xl flex items-center justify-center shadow-lg">
                            <i class="fas fa-lightbulb text-white text-xl"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-bold text-gray-800">Insights Estratégicos</h2>
                            <p class="text-sm text-gray-500">Recomendaciones basadas en datos</p>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Insight 1 -->
                        <div
                            class="bg-gradient-to-r from-green-50 to-emerald-50 border-l-4 border-green-500 p-6 rounded-lg">
                            <div class="flex items-start gap-3">
                                <div
                                    class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-thumbs-up text-white"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-gray-800 mb-2">Mejora en Conformidad</h3>
                                    <p class="text-sm text-gray-700">Calculando datos...</p>
                                </div>
                            </div>
                        </div>

                        <!-- Insight 2 -->
                        <div
                            class="bg-gradient-to-r from-orange-50 to-red-50 border-l-4 border-orange-500 p-6 rounded-lg">
                            <div class="flex items-start gap-3">
                                <div
                                    class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-exclamation-triangle text-white"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-gray-800 mb-2">Área de Atención: Temperatura</h3>
                                    <p class="text-sm text-gray-700">El 45% de las fallas están relacionadas con control
                                        de temperatura. Se recomienda revisar los sistemas de refrigeración.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Insight 3 -->
                        <div
                            class="bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 p-6 rounded-lg">
                            <div class="flex items-start gap-3">
                                <div
                                    class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-chart-bar text-white"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-gray-800 mb-2">Eficiencia Operativa</h3>
                                    <p class="text-sm text-gray-700">El tiempo promedio de auditoría se mantiene estable
                                        en 2.4 horas, demostrando procesos eficientes y consistentes.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Insight 4 -->
                        <div
                            class="bg-gradient-to-r from-purple-50 to-violet-50 border-l-4 border-purple-500 p-6 rounded-lg">
                            <div class="flex items-start gap-3">
                                <div
                                    class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-trophy text-white"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-gray-800 mb-2">Volumen en Aumento</h3>
                                    <p class="text-sm text-gray-700">Calculando datos...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="reporte_auditoria_final.js"></script>
</body>

</html>